\chapter{Classifying Errors in Transformation Networks 
    \pgsize{25 p.}
}
\label{chap:errors}

\mnote{Discuss error as the result of failing in achieving correctness}
In the previous chapters, we have introduced a notion of correctness for transformation networks and discussed how we can achieve or analyze different kinds of correctness for the different artifacts of the transformation network, namely the consistency relations, the consistency preservation rules and the application function.
It may, however, easily occur that a transformation developer defines transformations that do not adhere to all these kinds of correctness, be it because of missing knowledge about them or by accident.

\mnote{Proposal for specification levels and categorization of errors}
In this chapter, we thus discuss what may happen if correctness was not achieved.
The possible types of errors that can occur depend on the abstraction level at which the specification is performed. 
This depends on the existing knowledge, i.e., whether the transformation is to be used in a transformation network, or even in which network it is to be used, but also on the abstraction provided by the formalism or language to specify a transformation or transformation network, respectively, in.
We thus first propose a distinction of such specification levels for transformation networks.
We then systematically derive a categorization of potential \emph{failures}, i.e., the unwanted results the application algorithm may yield, the \emph{faults} that led to the mistakes, i.e., the errors in the implementation of the transformation, and finally the causing \emph{mistakes}, i.e., the errors made by a developer due to his knowledge that led to an implementation fault.
Finally, we discuss how the possible types of mistakes, faults and failures can be detected or avoided and how this relates to the correctness notions and approaches to achieve them that we have introduced so far.

\mnote{Subordinate contributions}
This chapter thus constitutes our contribution \autoref{contrib:correctness:errors}, which consists of three subordinate contributions: a separation of knowledge-dependent specification levels for transformation network; a categorization of potential errors in transformation networks; and a discussion of the possibilities to detect and avoid errors with respect to the yet discussed correctness notions and measures to achieve them.
\todo{Finally update goals}
It answers the following research question:

\researchquestionrepeat{rq:correctness:errors}

\mnote{Benefits of contributions}
As the central goal of this chapter, we categorize the possible types of errors to derive systematic knowledge about mistakes that can be made and failures that can arise from them.
First, this helps transformations developers to identify the reasons for arising failures.
Second, it allows us to identify which relevant errors we can avoid or detect with the approaches proposed in the previous chapters and how relevant the problems that we solve with them are.
The latter will be part of our subsequent evaluation at a case study.

\mnote{Publication of contributions}
Several of the insights regarding errors in transformation networks are results of the two master's theses by \textcite{syma2018ma} and \textcite{saglam2020ma}, who investigated errors that occurred when combining independently developed transformations in two case studies.
Essential results from the former thesis were published in \owncite{klare2019icmt} and are part of the following discussion in revised form.

%Problem statement: We now know what correctness means and how to constructively achieve or at least analyze it. We, however, want to know what may happen if correctness was not achieved by any reason.
%We want to have systematic knowledge what kinds of problems can occur, what types of reasons there are and how they manifest.
%We want to derive how many of the typical problems we can systematically resolve with our contributions, i.e., how relevant the problems that we solve are (how often they occur).

% \todo{Unterschied Klassifizierung/Kategorisierung: Klassifizierung benötigt Klassifizierungsdimension, Kategorisierung nicht}
% Klassifizierung: Wir packen Spezifikationsszenarien in vordefinierte Klassen, entsprechend ihrem Abstraktionsgrad
% Kategorisierung: Wir identifizieren Kategorien von Mistakes/Faults/Failures und diskutieren deren Vollständigkeit
% Im Unterschied sind bei der Kategorisierung die Kategorien vorher nicht bekannt.
% RESULTAT: Nicht nötig, wir machen nur Kategorisierung

%\todo{Ziel dieses Kapitels: Wie hängen Korrektheitsdefinition voneinander ab (Hierarchie/Ebenen), was passiert, wenn einzelne Korrektheiten nicht erfüllt sind? Welche Fehler treten auf? Und wie häufig passiert das? (Letzteres eher als Evaluation verkaufen)}

\todoLater{Discuss errors by two unidirectional transformations not adhering to the same consistency relation, which we already teasered in \autoref{chap:synchronization} and have seen in the case study. What is meant by that? It there really a teaser in that chapter?}

\todo{Nochmal genau prüfen, ob wir sagen, dass Synchronisation per Konstruktion geht, Kompatibilität per Analyse, also ohne Ausführung der Transformationen und damit zur Entwurfszeit und alles andere nur durch Ausführung geht, d.h. entweder über Tests oder zur Ausführungszeit auffällt.}

\input{sections/3_correctness/3510_errors-levels.tex}
\input{sections/3_correctness/3520_errors-categorization.tex}
\input{sections/3_correctness/3530_errors-avoidance.tex}
\input{sections/3_correctness/3540_errors-summary.tex}
