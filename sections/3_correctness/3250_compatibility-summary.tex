\section{Summary}

In this chapter, we have discussed the challenge regarding compatibility of consistency relations, which are encoded in transformations.
We have derived a well-founded notion of compatibility, precisely formalized this notion and presented a formal approach that is able to validate compatibility of given relations.
The approach is proven to be correct.
Based on the formal approach, we developed a practical approach for \gls{QVTR}, which is able to validate compatibility of consistency relations defined in \gls{QVTR} and \gls{OCL}.
We conclude this section with the following central insight.

\begin{insight}[Compatibility]
    Transformations that are supposed to preserve contradictory consistency relations easily lead to problems when combining them to a network, because (some of) their relations cannot be fulfilled at the same time.
    The relations preserved by transformations should thus be \emph{compatible}, i.e., they should not restrict consistency for elements such that no consistent set of models can be found by the transformation network.
    That notion of compatibility can be proven for given transformations by considering their preserved consistency relations, finding redundant relations and removing them until only a tree of relations remains. Since we were able to prove that consistency relation trees are inherently compatible and removing redundant relations is compatibility-preserving, this approach is proven correct.
    Compatibility is a property of the network and not a single transformation, thus it cannot be achieved by construction of the individual transformations but only analyzed for a given transformation network.
\end{insight}

%\todo{Discuss early that compatibility is a network property, not achievable by construction}