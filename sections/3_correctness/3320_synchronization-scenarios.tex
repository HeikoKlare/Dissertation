%%%
%%% CASE DISTINCTION 
%%%
\section{Synchronization Scenarios}

Since we consider the practical realization of such preservation rules with ordinary transformation languages, we also specifically consider the changes that can be processed by those transformation languages.
Thus, we focus on the types of changes that can be performed in EMOF-based and conforming Ecore-based models.

\begin{figure}
    \centering
    \input{figures/correctness/synchronization/change_feature_model_ecore.tex}
    \caption{Feature model for all changes in Ecore-based models, adapted from \cite[Fig. 5.3]{kramer2017a}.}
    \label{fig:synchronization:change_feature_model}
\end{figure}

\textcite{kramer2017a} proposes feature models for changes in EMOF- and Ecore-based models, which are supposed to be able to express all kinds of possible changes in them.
The feature model for EMOF-based models is given at \cite[Fig. 5.2]{kramer2017a} and the change model for Ecore-based models is given at \cite[Fig. 5.3]{kramer2017a}.
We depict the latter one in \autoref{fig:synchronization:change_feature_model}.

Make distinction of EMOF- and Ecore-based model, point out differences and explain why we focus on Ecore-based models.


Changes to Max:
\begin{itemize}
    \item No compound changes
    \item No permutation, as it is compound change of subtractive and additive multi-valued feature change. Whether or not permutation rather than removal and addition is relevant is up to the one interpreting the change sequence. It is the same as a move of an element from one reference to another, which is also modelled as a compound change.
    \item Content is mandatory, because we do not have permutation changes as atomic ones, thus every change is either additive or subtractive
    \item Constraints are limited to those still relevant for the remaining scenarios
    \item Fixed error: original model did require a create change of a root element to be subtractive, which does not make any sense, leading to simplification of constraints
\end{itemize}

Arising changes, i.e., all possible configurations of the feature model:
\begin{itemize}
    \item Additive root change (create or not)
    \item Subtractive root change (create or not)
    \item Single-valued attribute change
    \item Additive multi-valued attribute change
    \item Subtractive multi-valued attribute change
    \item Single-valued reference change (with create and/or delete and/or nothing)
    \item Additive multi-valued reference change (create or not)
    \item Subtractive multi-valued reference change (delete or not)
\end{itemize}



FROM MAX:
Different information and case distinctions are necessary to describe all possible model changes for modelling languages that follow the Essential Meta Object Facility (EMOF) standard or the Ecore variant. 
Both meta-modelling languages and the differences between them are described in \autoref{chap:foundations:modeling:models}.
Only two differences have a major effect on our change modelling language and the specifications language that use them:
\begin{enumerate}%[1.]
\item In EMOF, properties can be typed using metaclasses or using other data types, but in Ecore these are distinguished as references and attributes.
\item Ecore requires that all elements except for a root element are contained in exactly one container and EMOF only requires that all elements have at most one container~\cite[pp.\ 31-32]{mof}.
\end{enumerate}
If we only consider these two differences, then Ecore can be seen as a refinement of EMOF, which only adds a more fine-grained distinction of properties and further containment restrictions.
Because of this refinement relation, we will first describe which information is necessary to represent model changes of EMOF-based models and then add further information and distinctions for Ecore-based models.
Finally, we briefly explain how we made all this information available in practice using a change modelling language.

