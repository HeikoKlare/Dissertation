\chapter{Future Work
    \pgsize{5 p.}
}
\label{chap:futurework}

\section{Correctness}

\todo{Introduce future work on correctness}


\subsection{Compatibility}

In \autoref{chap:correctness_evaluation:compatibility:discussion:limitations}, we have discussed several limitations of the current realization and implementation of the proposed approach to analyze compatibility of consistency relations, which represent relevant opportunities for future work.
In the following, we first discuss future work at the conceptual core of the idea, processes to use it and finally its realization.

\paragraph{Effects on Orchestration Problem}
\label{chap:futurework:correctness:compatibility:orchestration}
In \autoref{chap:compatibility:informal}, we have motivated the defined notion of compatibility with the goal of reducing the ability of transformations not to find consistent models after changes.
We have discussed the resulting problem more precisely as the orchestration problem in \autoref{chap:orchestration}.
In fact, compatibility ensures that the ability of not finding a consistent orchestration due to the orchestration problem decreases, thus reducing the ability that transformation network fail or do not terminate.
While we have shown this at examples in this work, we will empirically evaluate in future work how compatibility affects the ability of transformation networks to find consistent models and, if possible, even formally prove and analyze that effect. 

% Relation to issues in consistency repair: Further issues were identified in \cite{klare2019icmt}: This work is concerned with compatibility of consistency relations. Transformations also contain repair routines that restore consistency. They depend on their relations being compatible, as they may otherwise not be able to find correct solutions (refer to the example where relations require an endlessly large model to be consistent). So now we should research, what the actual remaining problems in the consistency restorers (operationalization level) are if transformations respectively their relations are assumed compatible.

\paragraph{Relaxation of Redundancy Notion}
\label{chap:futurework:correctness:compatibility:redundancy}
In \autoref{chap:compatibility:formal_approach:redundancy}, we have introduced the specific notion of \emph{left-equal redundancy} (see \autoref{def:leftequalredundancy}), since an intuitive notion of redundancy is not strong enough to be compatibility-preserving.
That stronger notion was derived from counterexamples for redundancy being compatibility-preserving.
In our evaluation in \autoref{chap:correctness_evaluation:compatibility}, we have also shown in a case study that this notion is not too strong to be applicable, thus preventing our approach from proving compatibility.
Still, there might be a weaker notion than left-equal redundancy that is still strong enough to be compatibility-preserving.
Additionally, in other case studies our notion may still be too strong.
Thus, we still aim to find the weakest possible notion of redundancy that is still compatibility-preserving, if it exists. 
This especially involved finding scenarios in which our notion of left-equal redundancy is too restrictive.

\paragraph{Interactive Process}
\label{chap:futurework:correctness:compatibility:process}
Our proposed approach enables a user to check a transformation network regarding compatibility of its consistency relations.
If the approach identifies a given network as compatible, it is actually compatible as the algorithm operates conservatively.
However, the approach is not able to prove incompatibility. If the approach does not identify a network as compatible, it may be incompatible or not.
For that reason, we aim to define a holistic process for approach application, which integrates further information given by the user into the process of proving compatibility.
Since the approach operates inductively, it can simply allow the transformation developer to perform single induction steps.
If the algorithm is not able to prove compatibility, i.e., if it is not able to find further redundant relations, it can present the network, in which the algorithm already removed some redundant relations, to the transformation developer.
He or she is then asked to declare a cycle of consistency relations as compatible, for which the algorithm is not able to prove it, or which are even not compatible but should still be considered as they are.
Afterwards, the algorithm could proceed with finding further redundant relations to prove compatibility, based on the decision of the developer.
As a result, the approach would be applicable to more scenarios in which compatibility is intentionally not given or in which the algorithm on its own is not able to prove it.

% Process (framework) based on the approach: User can currently get the result that a network is compatible. If the approach does not find a solution, the network may be compatible or not. There should be a process that presents the user the information about how far reduction of the network was possible, for which cycles redundancy could not be proven. Finally, the user may be able to manually mark relations are compatible (i.e. there may be a relation that introduces restrictions on the condition elements of other relations for which consistent models can be created, but this is intended). This could also be integrated into the approach, such as a cycles manually declared as compatible could be resolved by removing the most general relation and proceeding with the algorithm.

\paragraph{Validation of Operationalization Alternatives}
\label{chap:futurework:correctness:compatibility:alternatives}
Our approach transformation \gls{QVTR} relations and their \gls{OCL} expressions into first-order logic formulae and uses an \gls{SMT} solver to evaluate their satisfiability.
Such a theorem prover, however, is limited in the cases he is able to analyze, as we already discussed in \autoref{chap:correctness_evaluation:compatibility:discussion:limitations}.
This can restrict applicability of the approach and in the scenarios considered in our evaluation in \autoref{chap:correctness_evaluation:compatibility}, it was even the only limitation regarding applicability.
To circumvent or mitigate that limitations, it is possible to implement the approach in \autoref{chap:compatibility:practical_approach} by means of other formal methods. 
For example, interactive theorem provers can potentially prove redundancy of consistency relations in more cases. 
Another possibility is the use of multiple formal methods next to \gls{SMT} solvers, as some formal methods can provide proofs in cases in which others cannot.
Although this improve the effort for developing the translations, the simultaneous use of different symbolic computation tools can increase the chances of finding redundancy proofs.
Additionally, it may even be beneficial to simplify the \gls{OCL} statements transformed into logic formulae where possible, like discussed in \textcite{cuadrado2019OclOptimization-SoSym}.
On the one hand, this can improve the chance of success of the \gls{SMT} solver.
On the other hand, it can make it easier for a transformation developer to understand the reasons why the algorithm failed, if the expressions the algorithm worked on are simpler.
%\todo{Evaluate whether it is benefitial to improve or simplify the OCL statements, which are then transformed into first-order logic formulae. There are approaches to optimize statements, especially for the case that they were automatically create~\cite{cuadrado2019OclOptimization-SoSym}.}

% For other implementations:
%         - Plug in other formal methods into the procedure
%         - Interactive theorem provers may prove redundancy in more cases
%             - Tradeoff: no more automation

\subsection{Completion of Operationalized Approach}
\label{chap:futurework:correctness:compatibility:completion}
In \autoref{chap:compatibility:practical_approach} we have presented our practical compatibility analysis approach with the parts of \gls{OCL} operations and \gls{QVTR} relations it currently supports.
We will extend the operations for which translations to logic formulae are defined in future work, so that we can apply the approach to more sophisticated case studies.
This will provide further indicators for the general applicability of the approach.
% Moreover, \gls{SMT} solvers come with heuristics (sometimes called \textit{strategies}) to fine-tune their performances. Strategies should be chosen according to the nature of tested SMT instances, i.e.. consistency specifications. Thus, a better integration of the SMT solver can improve the realization of the current approach for proving compatibility in transformation networks.

% For the implementation of the current procedure:
%         - [OK] Fine-tune the solving strategy of the SMT solver
%         - [OK] Further translation of OCL to first-order formulae

% \iffalse
% \begin{itemize}
%     \item Process (framework) based on the approach: User can currently get the result that a network is compatible. If the approach does not find a solution, the network may be compatible or not. There should be a process that presents the user the information about how far reduction of the network was possible, for which cycles redundancy could not be proven. Finally, the user may be able to manually mark relations are compatible (i.e. there may be a relation that introduces restrictions on the condition elements of other relations for which consistent models can be created, but this is intended). This could also be integrated into the approach, such as a cycles manually declared as compatible could be resolved by removing the most general relation and proceeding with the algorithm.
%     \item Relation to issues in consistency repair: Further issues were identified in \cite{klare2019icmt}: This work is concerned with compatibility of consistency relations. Transformations also contain repair routines that restore consistency. They depend on their relations being compatible, as they may otherwise not be able to find correct solutions (refer to the example where relations require an endlessly large model to be consistent). So now we should research, what the actual remaining problems in the consistency restorers (oprationalization level) are if transformations respectively their relations are assumed compatible.
% \end{itemize}

%     For the implementation of the current procedure:
%         - Fine-tune the solving strategy of the SMT solver
%         - Further translation of OCL to first-order formulae
        
%     For other implementations:
%         - Plug in other formal methods into the procedure
%         - Interactive theorem provers may prove redundancy in more cases
%             - Tradeoff: no more automation
        
%     Integration into cyber-physical systems?
%     Integration into Vitruvius, relation with other ideas developed in \cite{klare2018docsym}?
% \fi


\subsection{Synchronization and Categorization}

\paragraph{Language-integrated Synchronization}
\label{chap:futurework:correctness:synchronization:integration}
Evaluate how well QVT-R fits

\paragraph{Matching by Semantics}
\label{chap:futurework:correctness:synchronization:semantic_matching}


\paragraph{Interaction with User}
\label{chap:futurework:correctness:synchronization:user_interaction}

\paragraph{Alignment of Consistency Preservation Rules}
\label{chap:futurework:correctness:synchronization:cpr_alignment}
Andere Ursachen dafür, dass keine konsistente Orchestrierung gefunden wird, außer Optionsselektion?

\paragraph{Synchronization Transformation Construction Case Study}
\label{chap:futurework:correctness:syncrhonization:case_study}


\subsection{Orchestration}

\begin{copiedFrom}{MODELS Orchestration}

We have formalised our findings on execution bounds and the behaviour of the proposed execution strategy to prove the insights and expected properties of the strategy.
In consequence, this paper provides fundamental knowledge about the design space and relevant design goals of transformation network execution strategies.
While the statements on correctness and well-definedness are proven, those on the usefulness of the strategy in terms of providing provenance were derived by argumentation.
To improve evidence of the results, the authors plan to apply the strategy to realistic use cases, involving larger networks of more complex transformations.

Furthermore, the authors want to examine how the strategy can be further optimised:
It might, for example, be improved by selecting the next candidate transformation more carefully, taking the network topology and nature of the changes into account.
Since early executed transformations will be executed most often, it might make sense to start with those that are most likely not to cause conflicts.
\citeauthor{etien2012Chaining-AMT} present heuristics for identifying such transformations~\cite{etien2010Combining-SAC,etien2012Chaining-AMT}, which might prove valuable in this regard.
%
Finally, this paper only discussed networks of binary transformations.
The presented execution strategy, however, does not rely on the transformations being binary and may work just as well for networks with multi-ary ones.
Future research could investigate whether there are relevant differences when applying the execution strategy to networks of multi-ary transformations.

\todo{Process for finding errors: When user has a problem, how is the process to get the error fixed? Interaction with transformation developer etc.}

\end{copiedFrom} % MODELS Orchestration


\todo{User study for usage/process of specifying transformation networks. Are such networks really used? Are transformations reused? Is this not the case because of missing methodology or because no one wants to use it?}