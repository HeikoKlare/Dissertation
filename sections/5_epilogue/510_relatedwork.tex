\chapter{Related Work
    \pgsize{15 p.}
}
\label{chap:relatedwork}

%% FROM ICMT
\section{From Interoperability Case Study}

%Model consistency preservation is a research topic of current interest. 
\textcite{macedo2017a} provide a classification of consistency preservation approaches also considering support for multi-model scenarios. %and especially compares whether approaches consider multi-model scenarios.
In the following, we compare our work to research areas related to preserving consistency between multiple model types.
%Our work focuses on approaches that preserve consistency rather than only checking them.
%We will therefore compare our approach to related research areas.

\subsection*{Networks of Bidirectional Transformations} 
Networks of \acp{BX} are the focus of our research.
%We focus on networks of %binary and especially 
%bidirectional transformations. 
\textcite{stevens2017a} investigates the ability to split global into binary constraints.
She gives arguments to stick to networks of \acp{BX} rather than using multidirectional transformations. % and considers how n-ary relations can be split into sets of binary relations.
Important for such networks is the transformation execution order. 
While we aim to allow arbitrary execution orders, other approaches focus on finding or defining appropriate orders~\cite{stevens2018megamodels}.
%\todoHeiko{Add Correct-by-construction here \cite{lano2014a}}

% \begin{itemize}
%     \item Basic investigation by \cite{stevens2017a}: Ability to separate global constraints into bidirectional transformation, argumentation for sticking to bx networks rather than multidirectional transformations
%     \item Orientation model to derive appropriate set of transformations to be executed after a specific change ~\cite{stevens2018megamodels}
%     \item Patterns for correct-by-construction synthesis (very related, take deeper look!)~\cite{lano2014a}
% \end{itemize}

\subsection*{Multidirectional Transformations}
Multidirectional transformations 
are an alternative to networks of \acp{BX}.
Although they benefit from being less prone to interoperability issues, they do not allow for modular definitions of consistency specifications.
The QVT-R standard~\cite{qvt} considers multidirectional transformations, but \textcite{macedo2014a} reveal several limitations of its applicability.
An extension of \acp{TGG} to multiple models~\cite{trollmann2015a, trollmann2016a} focuses on the specification of multidirectional rules but not on potential conceptual and operational issues that we investigated.
 %on multidirectional transformations 
Commonalities \metamodels offer a different approach to reduce the number of transformations and potential issues.
\textcite{gleitze2017a} proposes a generic idea for them, whereas DUALLy~\cite{malavolta2010a, eramo2012a} uses a domain-specific commonalities \metamodel for architecture description languages.
\textcite{stunkel2018a} and \textcite{diskin2018a} discuss such commonalities \metamodels from a theoretical viewpoint.
Several topics of multidirectional transformations, especially the usage of networks of bidirectional transformations and the interaction of several bidirectional transformations, were discussed in a Dagstuhl seminar~\cite{cleve2019dagstuhl}.
The focus in related working groups was the investigation of scenarios, in which networks of bidirectional transformations do not suffice and thus checked our assumption in \autoref{chap:properties:terminology}.

% \begin{itemize}
%     \item Limitations of QVT-R for multidirectional transformations~\cite{macedo2014a}
%     \item Extending TGGs to multiple models, focused on specification of multidirectional rules with TGGs but not on conceptual and operational issues that may occur~\cite{trollmann2015a, trollmann2016a}
%     \item Specify commonalities \metamodels to reduce of number of transformations~\cite{gleitze2017a}
%     \item Domain-specific approach for commonalities of architecture description languages is DUALLY~\cite{malavolta2010a, eramo2012a}
% \end{itemize}

\subsection*{Transformation Chains}
Transformation chains
are sets of transformations executed one after another to transform one (high-level) model into one (low-level) model across one or more others. %an instance of one
%Transformation chains have the goal to find a chain transformation to transform  from on
%\metamodel into an instance of another across one or more others. 
%This is especially useful for generating low-level models from high-level models across different abstraction levels.
It is a special case of networks of \acp{BX}s, in which chains between all pairs of \metamodels are realized. %not a chain between two \metamodel shall be realized, but between all pairs of \metamodels.
Specification languages for transformation chains, such as FTG+PM~\cite{lucio2013a}, allow to combine transformations to chains.
Another approach is UniTI~\cite{vanhooff2006a, vanhooff2007a, pilgrim2008a}, 
which treats and combines transformations as black-boxes like we do. 
However, it derives compatibility from external specifications rather than achieving compatibility by construction.
To improve maintainability, approaches for separating transformation chains into smaller concern-specific ones~\cite{yie2012a} and to support evolution~\cite{yie2009a} have been developed.

% \begin{itemize}
%     \item Usual goal: find a chain of transformations to transform from one \metamodel to another, especially for high-level to low-level generationsy
%     \item Special case of our problem, where all connection in a set of \metamodels shall be realized and not only connection between two
%     \item Specification languages for transformation chains, such as FTG+PM~\cite{lucio2013a}
%     \item One approach is UniTI~\cite{vanhooff2006a}\cite{vanhooff2007a}\cite{pilgrim2008a}, which also aims to combine transformations in black-box manner, but not by proper construction but by external specifications from which compatibility can be derived
%     \item Evolving transformations chains, adding high-level construction~\cite{yie2009a}
%     \item Transformation chains can be separated into smaller concern-specific ones: External mechanism for tracking dependencies between them~\cite{yie2012a}
%     \item (Eigentlich auch/eher Composition) TraCo composition system~\cite{heidenreich2010composition} for composing transformations, specification of transformation components and properties that are anaylzed: analytical approach (good for modularization level), not by design
% \end{itemize}

\subsection*{Transformation Composition}
Transformation composition techniques are a means to build networks of \acp{BX}.
They can be separated into internal techniques, which are white-box approaches integrated into the language~\cite{wagelaar2008a, wagelaar2010a, wagelaar2011a}, e.g. inheritance or superimposition techniques, and external techniques.
External approaches consider the transformations as black-boxes, which makes them related to our work.
%Transformation chains are a special case of that.
Most approaches especially focus on factorization and re-composition as a refactoring technique for transformations~\cite{cuadrado2008a} and consider syntactic compatibility on the level of external specifications and matching \metamodels rather than investigating techniques to achieve interoperability by construction.
\textcite{lano2014a} present a catalog of patterns that foster correct composition of transformations.
This also includes patterns for unique instantiation like we proposed in \autoref{chap:prevention:interoperability:matching}.
In contrast, our contribution primarily comprises a categorization of mistakes %on different abstraction levels 
and only uses one specific pattern that is appropriate to avoid mistakes of a certain category. % rather than providing a set of patterns to generally improve correctness.
TODO: TraCo composition system~\cite{heidenreich2010composition} for composing transformations, specification of transformation components and properties that are anaylzed: analytical approach (good for modularization level), not by design


% \begin{itemize}
%     \item Internal and external composition techniques
%     \item Internal techniques integrated into language (white-box approach)~\cite{wagelaar2008a, wagelaar2010a, wagelaar2011a} , e.g. inheritance or superimposition techniques
%     \item External techniques compose complete transformation artifacts (box-box approach), e.g. in terms of chains
%     \item Factorization and composition as refactoring~\cite{cuadrado2008a}
%     \item Building networks of BX is also a way to compose transformations, so problems are overlapping, but interoperability primarily considered syntactically in terms of matching \metamodels etc., not in terms of correct termination
% \end{itemize}

\subsection*{Model Merging and Constraint Solving} 
Model merging and constraint solving are further approaches to achieve consistency preservation between multiple models.
For example, \textcite{eramo2008a} consider the usage of \ac{ASP} for preserving model consistency.
We, however, focus on transformation-based techniques and issues related to that,
which is why we do not discuss that research area in more detail.
%\todoHeiko{Model Merging raus, da nicht diskutiert?}
%\todoHeiko{Multiary Synchroinsation with Delta Lenses\cite{diskin2018a} erg√§nzen}

% \begin{itemize}
%     \item Model Merging and Constraint Solving techniques can also be applied for consistency preservation, e.g. with ASP for constraint solving~\cite{eramo2008a}
%     \item Nevertheless, we and the investigated issues focus on transformation-based techniques, so no further discussion of that area
% \end{itemize}




%% FROM VOSE
\section{From Commonalities}

The \commonalities approach is related to the highly researched field of model consistency and especially of model 
transformations.
In the following, we compare our approach to others that rely on commonality specifications, to both multidirectional transformations and transformation networks that also allow consistency preservation between multiple models and finally to constraint solving, a different paradigm for preserving model consistency.

\subsection*{\commonality Approaches}
%Commonalities \metamodels offer a different approach to reduce the number of transformations and potential issues.
%In this paper, we propose a generic idea for that, whereas DUALLy~\cite{malavolta2010a, eramo2012a} uses a domain-specific commonalities \metamodel for architecture description languages.

The idea of defining commonalities to express consistency of multiple models was especially researched from a theoretical viewpoint.
That research is based on the idea of using an additional $n+1$-th \metamodel to decompose the $n$-ary consistency relation between $n$ \metamodels into $n$ binary relations~\cite{stunkel2018a, diskin2018a}.
%Equal ideas to Commonalities especially researched from a theoretical viewpoint (usually one big commonality, which solves the problem, as all n-ary relations between n metamodel can be expressed by binary relations to an additional n+1 th metamodel)~\cite{stunkel2018a, diskin2018a}.

Existing approaches to practically use commonalities for keeping multiple models consistent are domain-specific. 
The DUALLy approach~\cite{malavolta2010a, eramo2012a} uses a domain-specific concept \metamodel for architecture description languages, which is a fixed \metamodel to which relations of arbitrary architecture description languages can be defined.


\subsection*{Multidirectional Transformations}

Without defining additional \metamodels, multidirectional transformations are an approach to directly define the relations between multiple \metamodels.
The QVT-R standard~\cite{qvt} considers multidirectional transformations, but \textcite{macedo2014a} reveal several limitations of its applicability and propose strategies to circumvent them.
\acp{TGG} are a graph-based approach to define transformations, which has been extended to enable the specification of multidirectional rules~\cite{trollmann2015a, trollmann2016a}.
In contrast to our work, these approaches support the specification on $n$-ary relations between $n$ \metamodels, but do not provide means to improve their understandability as we expect the definition of Commonalities to do.


\subsection*{Networks of Bidirectional Transformations}

We introduced networks of bidirectional transformations as the state-of-the-art for specifying consistency relations between multiple \metamodels.
\textcite{stevens2017a} investigates the ability to decompose $n$-ary relations into binary ones and also discusses confluence issues, which arise from incompatibilites of transformations, as discussed in \autoref{sec:approach:benefits}.
Such a decomposition of relations is not always possible, thus such approaches are restricted to cases where all $n$-ary relations can be decomposed into binary ones.
Additionally, such networks are prone to compatibility errors or reduced modularity, as discussed in \autoref{sec:approach:benefits}.

Transformation composition and transformation chains deal with specific problems of transformation networks.
Composition techniques deal with internal composition of transformations~\cite{wagelaar2008a}, which are techniques that are integrated into a language, and external composition of transformations, which work independently from the language.
Those approaches especially comprise factorization and re-composition of transformations~\cite{cuadrado2008a} and investigations of compatibility of transformations for different versions of the same \metamodels.
Transformation chains deal with specific networks that occur when transformations from \metamodels with a high level of abstraction to those with a low level of abstraction are defined.
Specification languages for transformation chains %, such as FTG+PM,
allow to combine transformations to chains~\cite{lucio2013a} and to treat them as black-boxes%like in UniTI
~\cite{vanhooff2006a, vanhooff2007a}. 


\subsection*{Constraint Solving}

Consistency relations between multiple \metamodels can also be expressed as logical constraints.
Restoring consistency for a set of models can be achieved by constraint solving.
%A different approach for describing consistency relations between multiple \metamodels and restoring them for a set of instances is constraint solving, where consistency relations are expressed as logical constraints.
%Consistency relations can be expressed as logical constraints that have to be fulfilled by a set of models.
\textcite{eramo2008a} consider the usage of \ac{ASP} for that. %to define consistency relations between \metamodels.
The approach derives a set of candidates that fulfill the constraints after a model is modified. %, such that as few changes are performed on the models as possible to restore consistency.
However, that research focuses on solving constraints rather than designing an appropriate way how to define them, in contrast to our \commonalities approach.
