\begin{tikzpicture}[node distance=2.1em and 4em+0.4*\difftoafiveimage]
% Transformationssprache
\node[uml box, text width=10em] (tl) {Transformation Language};
\node[uml box, minimum height=6em, text width=10em] (td) [below=of tl] {};
\node[below=0.4em of td.north, anchor=north] {Transformation Definition};
\node[uml box, fill=white, below left=2em and 0.5em of td.north, anchor=north, minimum height=2.5em, minimum width=9em] (tr1) {};
\node[uml box, fill=white, below right=0.5em and 0.5em of tr1.north, anchor=north, minimum height=2.5em, minimum width=9em] (tr2) {};
\node[uml box, fill=white, below right=0.5em and 0.5em of tr2.north, anchor=north, minimum height=2.5em, minimum width=9em] (tr3) {Transformation Rules};
\draw[-latex, densely dashed] (td) -- node[uml role, right] {defined in} (tl);

\node[uml activity, text width=10em, align=center] (te) [below=of td] {Transformation Engine};

% MMA
\node[uml box, text width=5em, align=center] (mma) [left=of td] {Source\\ Metamodel};
\node[uml box, text width=5em, align=center] (ma) at (mma|-te) {Source\\ Model};
\draw[-latex, densely  dashed] (ma) -- node[uml role, right] {instantiates} (mma);

% MMB
\node[uml box, text width=5em, align=center] (mmb) [right=of td] {Target\\ Metamodel};
\node[uml box, text width=5em, align=center] (mb) at (mmb|-te) {Target\\ Model};
\draw[-latex, densely dashed] (mb) -- node[uml role, left] {instantiates} (mmb);

% Meta-Metamodell
\node[uml box, text width=10em] (m3) [above=of tl] {\MetaMetamodel};
\draw[-latex, densely dashed] (mma) |- node [uml role, near start, right] {instantiates} (m3);
\draw[-latex, densely dashed] (mmb) |- node [uml role, near start, left] {instantiates} (m3);
\draw[-latex, densely dashed] (tl) -- node[uml role, right] {defined for} (m3);

% Beziehungen
\draw[-latex] (td) -- node [uml role, below] {references} (mma);
\draw[-latex] (td) -- node [uml role, below] {references} (mmb);

\draw[-latex] (td) -- node [uml role, right] {used by} (te);
\draw[-latex] (ma) -- node [uml role, below] {Input} (te);
\draw[-latex] (te) -- node [uml role, below] {Output} (mb);

\end{tikzpicture}