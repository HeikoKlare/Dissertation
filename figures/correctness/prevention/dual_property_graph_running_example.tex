%% TITLE: From QVT-R files to {metamodels, specifications}
%% Don't forget to compile the main document!

\DeclareRobustCommand{\hlblue}[1]{{\sethlcolor{kit-blue30}\hl{#1}}}
\DeclareRobustCommand{\hlgreen}[1]{{\sethlcolor{kit-green30}\hl{#1}}}
\DeclareRobustCommand{\hlyellow}[1]{{\sethlcolor{kit-yellow30}\hl{#1}}}
\DeclareRobustCommand{\hlorange}[1]{{\sethlcolor{kit-orange30}\hl{#1}}}
\DeclareRobustCommand{\hlred}[1]{{\sethlcolor{kit-red30}\hl{#1}}}

\begin{tikzpicture}%[show background grid]
    \tikzstyle{every node}=[font=\Large]
    %% GRAPH NODES
    \node[circle, fill=kit-green30, draw=kit-green100, name=greenN] at (10, 3) {};
    \node[circle, fill=kit-orange30, draw=kit-orange100, name=orangeN] at (0, 2) {};
    \node[circle, fill=kit-yellow30, draw=kit-yellow100, name=yellowN] at (5, -2) {};

    \node[circle, fill=kit-blue30, draw=kit-blue100, name=salary] at (-0.5, -2) {};
    
    \node[circle, fill=kit-blue30, draw=kit-blue100, name=socsecnumber] at (-2, 0) {};
    
    \node[circle, fill=kit-blue30, draw=kit-blue100, name=address] at (10, -1) {};

    \draw[-] (greenN) -- (orangeN) node [midway, above, sloped] (T1) {\texttt{Person::firstname, Person::lastname}};
    \draw[-] (greenN) -- (yellowN) node [midway, above, sloped] (T2) {\texttt{Resident::name}};
    \draw[-] (orangeN) -- (yellowN) node [midway, above, sloped] (T1) {\texttt{Employee::name}};

    \node[left = 0.2cm of orangeN] {\textbf{1}};
    \node[right = 0.2cm of greenN] {\textbf{2}};
    \node[below = 0.2cm of yellowN] {\textbf{3}};
    \node[left = 0.2cm of address] {\textbf{4}};
    \node[right = 0.2cm of salary] {\textbf{5}};
    \node[right = 0.2cm of socsecnumber] {\textbf{6}};

    \node[] () [below = 2cm of yellowN] {};

    %% METAGRAPH SYSTEMS
    % \node[draw=kit-orange100, dashed, name=n1, minimum height=2.5cm] at (0, -6) {%
    %         $\begin{cases}
    %             \textup{\texttt{ Person::firstname=fstn}} \\
    %             \textup{\texttt{ Person::lastname=lstn}} \\
    %             \textup{\texttt{ }\lstinline[language=QVT]{Resident::name=fstn + ' ' + lstn}}
    %         \end{cases}$
    %     };

    %     \node[draw=kit-green100, dashed, name=n2, minimum height=2.5cm] at (0, -10) {%
    %         $\begin{cases}
    %             \textup{\texttt{ Person::firstname=fstn}} \\
    %             \textup{\texttt{ Person::lastname=lstn}} \\
    %             \textup{\texttt{ }\lstinline[language=QVT]{Employee::name=fstn + ' ' + lstn}}
    %         \end{cases}$
    %     };

    %     \node[draw=kit-yellow100, dashed, name=n3, minimum height=2.5cm, minimum width=9.5 cm] at (0, -14) {%
    %         $\begin{cases}
    %             \textup{\texttt{ Resident::name=n}} \\
    %             \textup{\texttt{ Employee::name=n}}
    %         \end{cases}$
    %     };
        
    %     \node[draw=kit-blue100, dashed, name=n4, minimum height=2.5cm, minimum width=9.5 cm] at (10.5, -6) {%
    %         $\begin{cases}
    %             \textup{\texttt{ Resident::address=addr}} \\
    %             \textup{\texttt{ Employee::address=addr}}
    %         \end{cases}$
    %     };
        
    %     \node[draw=kit-blue100, dashed, name=n5, minimum height=2.5cm, minimum width=9.5 cm] at (10.5, -10) {%
    %         $\begin{cases}
    %             \textup{\texttt{ Person::income=inc}} \\
    %             \textup{\texttt{ Employee::salary=inc}}
    %         \end{cases}$
    %     };
        
    %     \node[draw=kit-blue100, dashed, name=n6, minimum height=2.5cm, minimum width=9.5 cm] at (10.5, -14) {%
    %         $\begin{cases}
    %             \textup{\texttt{ Person::socsecnumber=ssn}} \\
    %             \textup{\texttt{ Employee::socsecnumber=ssn}}
    %         \end{cases}$
    %     };

    % %% METAGRAPH LINES
    % % \draw[-, kit-orange100] (n1) -- (orangeN);
    % % \draw[-, kit-green100] (n2) -- (greenN);
    % % \draw[-, kit-yellow100] (n3) -- (yellowN);

    % \node[below = 0.1cm of n1] {1};
    % \node[below = 0.1cm of n2] {2};
    % \node[below = 0.1cm of n3] {3};
    % \node[below = 0.1cm of n4] {4};
    % \node[below = 0.1cm of n5] {5};
    % \node[below = 0.1cm of n6] {6};
\end{tikzpicture}