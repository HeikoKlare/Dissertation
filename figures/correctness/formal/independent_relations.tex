\newcommand{\hdistance}{19em}
\newcommand{\vdistance}{2.5em}
\newcommand{\classwidth}{6em}

\begin{tikzpicture}

% Resident
\umlclassvarwidth{resident}{}{Resident\sameheight}{
name
}{\classwidth}

% Employee
\umlclassvarwidth[, right=\hdistance of resident.north, anchor=north]{employee}{}{Employee\sameheight}{
name
}{\classwidth}

% Location
\umlclassvarwidth[, below=\vdistance of resident.south, anchor=north]{location}{}{Location\sameheight}{
street
}{\classwidth}

% Address
\umlclassvarwidth[, below=\vdistance of employee.south, anchor=north]{address}{}{Address\sameheight}{
street
}{\classwidth}

% CONSISTENCY RELATIONS
\draw[consistency relation] (resident.east) -- node[pos=0, above right] {$e$} node[pos=0.5, below, align=center] {
    $\consistencyrelation{CR}{1}$ = \\
    $\setted{ \tupled{r,e} \mid e.name = r.name}$
} node[pos=1, above left] {$r$} (employee.west);

\draw[consistency relation] (location.east) -- node[pos=0, above right] {$l$} node[pos=0.5, below, align=center] {
    $\consistencyrelation{CR}{2}$ = \\
    $\setted{ \tupled{l,a} \mid l.street = a.street}$
} node[pos=1, above left] {$a$} (address.west);

\end{tikzpicture}