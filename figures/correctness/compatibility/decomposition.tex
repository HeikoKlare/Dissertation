\newcommand{\mmdistance}{(5.5em+0.1*\difftoafiveimage)}

\begin{tikzpicture}[
    mm/.style={schematic metamodel, inner sep=0.2em},
]

% graph

\node[mm] (graph_middle) {$\metamodel{M}{1}$};
\node[mm, below left=0.5*\mmdistance and sqrt(3)/2*\mmdistance of graph_middle.center, anchor=center] (graph_bottomleft) {$\metamodel{M}{2}$};
\node[mm, below right=0.5*\mmdistance and sqrt(3)/2*\mmdistance of graph_middle.center, anchor=center] (graph_bottomright) {$\metamodel{M}{3}$};

\draw[consistency relation] (graph_middle) -- node[pos=0.4, above left] {$\consistencyrelation{CR}{1}$} (graph_bottomleft);
\draw[consistency relation] (graph_middle) -- node[pos=0.4, above right] {$\consistencyrelation{CR}{2}$} (graph_bottomright);
\draw[consistency relation] (graph_bottomleft) -- node[below] {$\consistencyrelation{CR}{3} = \consistencyrelation{CR}{4} \cup \consistencyrelation{CR}{5}$} (graph_bottomright);

\node[below right=0.4*\mmdistance and \mmdistance of graph_bottomleft.center, anchor=north, align=center] 
{ 
%$\consistencyrelation{CR}{5} \cap (\consistencyrelation{CR}{1} \concat \consistencyrelation{CR}{2}) = \emptyset$\\
$\consistencyrelation{CR}{5} \cap \consistencyrelation{CR}{4} = \emptyset$\\
\footnotesize (to be precisely defined later as \emph{independence})\\[0.3em]
$\consistencyrelation{CR}{1} \concat \consistencyrelation{CR}{2} \subseteq \consistencyrelation{CR}{4}$ %(R_1 \cup R_2)^*\setminus (R_1 \cup R_2)$\\
};


% trees

\node[mm, right=2.5*\mmdistance+0.4*\difftoafiveimage of graph_middle] (tree1_middle) {$\metamodel{M}{1}$};
\node[mm, below left=0.5*\mmdistance and sqrt(3)/2*\mmdistance of tree1_middle.center, anchor=center] (tree1_bottomleft) {$\metamodel{M}{2}$};
\node[mm, below right=0.5*\mmdistance and sqrt(3)/2*\mmdistance of tree1_middle.center, anchor=center] (tree1_bottomright) {$\metamodel{M}{3}$};

\draw[consistency relation] (tree1_middle) -- node[pos=0.4, above left] {$\consistencyrelation{CR}{1}$} (tree1_bottomleft);
\draw[consistency relation] (tree1_middle) -- node[pos=0.4, above right] {$\consistencyrelation{CR}{2}$} (tree1_bottomright);


\node[mm, below=0.9*\mmdistance of tree1_middle.center, anchor=center] (tree2_middle) {$\metamodel{M}{1}$};
\node[mm, below left=0.5*\mmdistance and sqrt(3)/2*\mmdistance of tree2_middle.center, anchor=center] (tree2_bottomleft) {$\metamodel{M}{2}$};
\node[mm, below right=0.5*\mmdistance and sqrt(3)/2*\mmdistance of tree2_middle.center, anchor=center] (tree2_bottomright) {$\metamodel{M}{3}$};

\draw[consistency relation] (tree2_bottomleft) -- node[below] {$\consistencyrelation{CR}{5}$} (tree2_bottomright);


% combinators

\node[above=0.4*\mmdistance of tree2_middle.center, anchor=center] {\Large\textbf{+}};

\draw[-latex] ([xshift=0.2*\mmdistance]graph_bottomright.east) --
    ([xshift=-0.2*\mmdistance]tree1_bottomleft.west);


\end{tikzpicture}