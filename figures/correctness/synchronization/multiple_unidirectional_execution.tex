\newcommand{\hdistance}{24em}
\newcommand{\vdistance}{9.5em}
\newcommand{\classwidth}{3em}

\begin{tikzpicture}[
    relation/.style={consistency relation, font=\footnotesize}
]

\umlclassvarwidth{A}{}{A\sameheight}{
i
}{\classwidth}

\umlclassvarwidth[,right=\hdistance of A.north, anchor=north]{B}{}{B\sameheight}{
i
}{\classwidth}

% CONSISTENCY RELATIONS
\draw[relation] (A.east) -- node[pos=0, above right] {$a$} node[below, align=left] {
    $\consistencyrelation{CR}{1} = \setted{\tupled{a,b} \mid a.i, b.i \ge 0 \land b.i = a.i + 1 \neq 5}$\\
    $\consistencyrelation{CR}{2} = \setted{\tupled{a,b} \mid a.i = b.i}$
} node[pos=1, above left] {$b$} (B.west);

\end{tikzpicture}