\algrenewcommand\alglinenumber[1]{\texttt{\footnotesize #1}}
\algdef{SE}[DOWHILE]{Do}{doWhile}{\algorithmicdo}[1]{\algorithmicwhile\ #1}%

\begin{algorithmic}[1]

\Procedure{\function{MergeConsistencyVariables}}{$\setted{\tupled{\setted{p}, V_{\setted{p}}}}$}
    \State $\mathvariable{stopMerge}$ $\leftarrow$ \textsc{true} 
    \State $\mathvariable{entries}$ $\leftarrow$ $\sequenced{\setted{\tupled{\setted{p}, V_{\setted{p}}}}}$\\

    \Do
        \State $\mathvariable{stopMerge}$ $\leftarrow$ \textsc{true}
        \State $\mathvariable{results}$ $\leftarrow$ $\tupled{}$\\
        
        \While{$\mathvariable{entries} \neq \sequenced{}$}
        % \While{not entries.isEmpty()}
            \State $\mathvariable{ref} = \tupled{P_{\textup{ref}}, V_{p_{\textup{ref}}}} \leftarrow$ $\sequenceindex{entries}{0}$ %\Comment{Reference pair to be compared with others}
            \State $\mathvariable{others}$ $\leftarrow$ $\sequenceindex{entries}{1:}$
            \State $\mathvariable{entries}$ $\leftarrow$ $\sequenced{}$\\
            
            \For{$\tupled{P, V_P} \in \mathvariable{others}$}
                \If{$V_P \cap V_{P_\textup{ref}} = \varnothing$}
                    \State $\mathvariable{entries}$ $\leftarrow$ $\mathvariable{entries} + \tupled{P, V_P}$
                \Else
                    \State $\mathvariable{stopMerge}$ $\leftarrow$ \textsc{False} \label{lst:line:stopMerge}%\Comment{Not all $V_{e_i}$ are pairwise disjoint}
                    \State $\mathvariable{ref}$ $\leftarrow$ $\tupled{P \cup P_{\textup{ref}}, V_P \cup V_{P_{\textup{ref}}}}$
                \EndIf
            \EndFor
            \State $\mathvariable{results}$ $\leftarrow$ $\mathvariable{results}$ $\cup$ $\setted{\mathvariable{ref}}$
        \EndWhile
        \State $\mathvariable{entries}$ $\leftarrow$ $\mathvariable{results}$
    \doWhile{$\neg \mathvariable{stopMerge}$}\\
    \State \Return{set($\mathvariable{entries}$)}
\EndProcedure

\end{algorithmic}