\RequirePackage[final]{listings}

\lstset{
  frame=lines,
  flexiblecolumns=true,
  basicstyle=\small\ttfamily,
  tabsize=4,
  captionpos=b,
  escapechar=ยง,
  numbers=none,
  commentstyle=\ttfamily\color{darkgray},
  stringstyle=\itshape\color{darkgray},
  keywordstyle=\bfseries,
  keywordstyle=[2]\itshape,
  backgroundcolor=\color{lightlightgray},
  rulecolor=\color{darkgray},
}


\lstdefinelanguage{reactions}{%
  alsolanguage=Java,
  keywords={
    % infrastructure:  
    import,reactions,%in,reaction,to,changes,in,execute,actions,in % WORKAROUND MANUAL TEXTCOLOR
    % reactions and routines:
    reaction,after,before,call,routine,match,action,::,val,retrieve,optional,require,absence,of,corresponding,to,tagged,tag,with,with,check,create,and,initialize,update,delete,add,remove,correspondence,between,and,execute,return,as,instanceof,
    value,replaced,for,list,permuted,entry,created,and,deleted,and,inserted,in,removed,from,root,element,created,deleted
  },
  keywords=[2]{
    affectedObject, newValue, oldValue, affectedFeature
  }
}

\lstdefinestyle{numbered}{
  numbers=left,
  numbersep=0.8em,
  xleftmargin=2em,
  framexleftmargin=0.4em,
  numberstyle=\footnotesize\color{darkgray},
}

\lstdefinelanguage{commonalities}{%
  keywords=[1]{concept, commonality, with, has, referencing, single},
  keywords=[2]{suffix, prefix, hasSuffix, in, compose, firstUpper},
  morestring=[b]{"},
}

\lstdefinelanguage{QVT}{
  morekeywords={
    % relations:  
    checkonly, domain, enforce, extends, implementedby, import, 
    key, overrides, primitive, query, relation, top, 
    transformation, when, where
    % operational: 
    Bag, Collection, Dict, OrderedSet, Sequence, Set, Tuple, abstract, 
    access, and, any, assert, blackbox, break, case, class, collect, 
    collectNested, collectOne, collectselect, collectselectOne, 
    composes, compute, configuration, constructor, continue, datatype, 
    default, derived, disjuncts, do, elif, else, end, endif, 
    enum, except, exists, extends, exception, false, forAll, forEach , 
    forOne, from, helper, if, implies, import , in, inherits, init, 
    inout, intermediate, invresolve, invresolveIn, invresolveone, 
    invresolveoneIn , isUnique, iterate, late, let, library, literal, 
    log, main, map, mapping, merges, metamodel, modeltype, new, not, 
    null, object, one, or, ordered, out, package, population, primitive, property, 
    query, raise, readonly, references, refines, reject, resolve, resolveIn, resolveone, 
    resolveoneIn, return, select, selectOne, sortedBy, static, 
    switch, tag, then, transformation, true, try, typedef, unlimited, 
    uses, var, when, where, while, with, xcollect , xmap, xor, xselect 
  },
  morecomment=[l]{--},
  morestring=[b]{'},
}

\lstdefinelanguage{framedQVT}{
  language=QVT,
  frame=single,
  xleftmargin=0em,
}
