% Tikz
\RequirePackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes}
\usetikzlibrary{fit}
\usetikzlibrary{angles}
\usetikzlibrary{calc}

% pgfplots
\usepackage{pgfplots,pgfplotstable}
\pgfplotsset{compat=1.8}

% Use to ensure same height of elements
\newcommand{\sameheight}{\vphantom{ÃŠy}}

\tikzset{
    every node/.append style={font=\small},
    stereotype/.style={font=\footnotesize\sffamily},
    consistency related element/.style={color=consistencycolor1},
    consistency related element 2/.style={color=consistencycolor2},
    consistency relation/.style={latex-latex, consistency related element},
    consistency relation 2/.style={latex-latex, consistency related element 2},
    directed consistency relation/.style={-latex, consistency related element},
    directed consistency relation 2/.style={-latex, consistency related element 2},
    correspondence/.style={color=consistencycolor1, -},
    consistency preservation element/.style={color=consistencypreservationcolor},
    transformation/.style={latex-latex, consistency preservation element},
    user changed element/.style={color=executioncolor}, %darkred},
    consistency changed element/.style={color=executioncolor},
    consistency execution element/.style={color=executioncolor},
    consistency execution/.style={-latex, color=executioncolor},
    manifests relation/.style={directed consistency relation},
    mmlabel/.style={},
    mmbg/.style={fill=lightgray!15},
    conceptmmbg/.style={fill=darkgray!30},
    schematic model/.style={draw, circle, fill=white},
    schematic metamodel/.style={draw, circle, mmbg},
    schematic conceptmetamodel/.style={schematic metamodel, conceptmmbg},
    legendbg/.style={fill=lightgray!15},
    legend/.style={font=\scriptsize},
}

\usepackage{templates/hktikzuml}
\usepackage{templates/hktikzpcm}

% Draw forests (feature diagrams etc.)
\usepackage{forest}
% https://tex.stackexchange.com/questions/335708/feature-diagram-in-latex
\newcommand{\featurexor}[3]{
    \featurexororbase[draw=black,]{#1}{#2}{#3}
}
\newcommand{\featureor}[3]{
    \featurexororbase[fill=black!60,]{#1}{#2}{#3}
}
\newcommand{\featurexororbase}[4][]{
    \path  (#2)--(#3)--(#4)
        pic [#1 angle radius=1.5ex] {angle = #2--#3--#4};
}
