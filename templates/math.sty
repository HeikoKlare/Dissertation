%\RequirePackage{mathptmx}
% but standard mathcal letters
%\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}

% Theorems and Numbering
\let\proof\relax
\let\endproof\relax
\let\openbox\relax
%\usepackage[fleqn]{amsmath}
%\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{aliascnt} % To share counters between theorems, corollaries etc. with correct autoref
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newcommand{\definitionautorefname}{Definition}
\newtheorem{researchgoal}{Research Goal}
\newtheorem*{remark*}{Remark}
\newtheorem{example}{Example}
% All kinds of theorems
\newtheorem{theorem}{Theorem}
\newaliascnt{lemma}{theorem}
\newtheorem{lemma}[lemma]{Lemma}
\aliascntresetthe{lemma}
\providecommand*{\lemmaautorefname}{Lemma}
\newaliascnt{claim}{theorem}
\newtheorem{claim}[claim]{Claim}
\aliascntresetthe{claim}
\providecommand*{\claimautorefname}{Claim}
\newaliascnt{proposition}{theorem}
\newtheorem{proposition}[proposition]{Proposition}
\aliascntresetthe{proposition}
\providecommand*{\propositionautorefname}{Proposition}
\newaliascnt{corollary}{theorem}
\newtheorem{corollary}[corollary]{Corollary}
\aliascntresetthe{corollary}
\providecommand*{\corollaryautorefname}{Corollary}

% Counter for equations
\counterwithin*{equation}{subsection}

% Algorithms
\RequirePackage{algorithm}          %% Uncommented by Aurélien (18/02)
\usepackage[noend]{algpseudocode}   %% Added by Aurélien (18/02)
\newcommand{\algorithmautorefname}{Algorithm}


% Concatenation operator
\newcommand{\concat}{\ensuremath{\otimes}}

%\usepackage{mathbbol}

\let\oldforall\forall
\let\forall\undefined
\DeclareMathOperator{\forall}{\oldforall}
\let\oldexists\exists
\let\exists\undefined
\DeclareMathOperator{\exists}{\oldexists}

\usepackage{bbm}

% Formula Formatting
\newcommand{\formulaskip}[1][1em]{\hspace{#1}}

% Notation: Sets and Tuples
\newcommand{\set}[1]{\mathbbm{#1}}
\newcommand{\setted}[1]{\{ #1 \}}
\newcommand{\bigsetted}[1]{\bigl{ #1 \bigr}}
\newcommand{\tuple}[2]{\mathfrak{#1}_{#2}}
\newcommand{\tupled}[1]{\langle #1 \rangle}
\newcommand{\bigtupled}[1]{\big\langle #1 \big\rangle}
\newcommand{\inverse}[1]{#1^{T}}

% Notation for Consistency
\newcommand{\condition}[2]{\set{#1}_{#2}}
\newcommand{\conditionelement}[2]{\tuple{#1}{#2}}
\newcommand{\metamodel}[2]{#1_{#2}}
\newcommand{\metamodelset}[1]{\set{#1}}
% Gives #1_1, ..., #1_#2
% #1: Name of metamodels, #2: End index
\newcommand{\metamodelsequence}[2]{\metamodel{#1}{1}, \dots, \metamodel{#1}{#2}}
\newcommand{\metamodelinstances}[1]{I_{#1}}
\newcommand{\metamodelinstanceset}[2]{\metamodelinstances{\metamodel{#1}{#2}}}
% Gives I_#1_1, ..., I#1_#2
% #1: Name of metamodels, #2: End index
\newcommand{\metamodelinstancesetsequence}[2]{\metamodelinstanceset{#1}{1}, \dots, \metamodelinstanceset{#1}{#2}}
% Gives I_#1_1 x ... x I_#2_#2
% #1_ Name of metamodels, #2: End index
\newcommand{\metamodelinstancesetproduct}[2]{\metamodelinstanceset{#1}{1} \times \dots \times \metamodelinstanceset{#1}{#2}}
\newcommand{\metamodelsetinstanceset}[1]{\metamodelinstances{\metamodelset{#1}}}
\newcommand{\class}[2]{#1_{#2}}
\newcommand{\classtuple}[2]{\tuple{#1}{#2}}
\newcommand{\model}[2]{#1_{#2}}
\newcommand{\modelset}[1]{\set{#1}}
% Gives #1_1, ..., #1_#2
% #1: Name of model, #2: End index
\newcommand{\modelsequence}[2]{\model{#1}{1}, \dots, \model{#1}{#2}}
\newcommand{\object}[2]{#1_{#2}}
\newcommand{\consistencyrelation}[2]{#1_{#2}}
\newcommand{\inverseconsistencyrelation}[2]{\inverse{#1}_{#2}}
\newcommand{\consistencyrelationset}[1]{\set{#1}}
\newcommand{\consistencyrelationpair}[2]{\tuple{#1}{#2}}

\newcommand{\change}[1]{\delta_{#1}}
\newcommand{\changeuniverse}[1]{\Delta_{#1}}
\newcommand{\consistencypreservationrule}[1]{\textsc{Cpr}_{#1}}
\newcommand{\consistencypreservationruleset}[1]{\set{CPR}_{#1}}

\newcommand{\consistencyappfunction}[1]{\textsc{App}_{#1}}

% Other notations
\newcommand{\transitiveclosure}[1]{#1^+}
\newcommand{\mathtext}[1]{\; \textit{#1} \;}
\newcommand{\equivalentperdefinition}{:\Leftrightarrow}
\newcommand{\equivalent}{\Leftrightarrow}

% Math Texts
\newcommand{\consistenttomath}{\mathtext{consistent to}}
\newcommand{\containsmath}{\mathtext{contains}}
\newcommand{\compatiblemath}{\mathtext{compatible}}
\newcommand{\equivalenttomath}{\mathtext{equivalent to}}
\newcommand{\redundantinmath}{\mathtext{redundant in}}
\newcommand{\leftequalredundantinmath}{\mathtext{left-equal redundant in}}
\newcommand{\compatibilitypreservingtomath}{\mathtext{compatibility-preserving to}}

% Notation: Properties
\newcommand{\propertyset}[2]{\set{#1}_{#2}}
\newcommand{\propertysettuple}[2]{\tuple{#1}{#2}}
\newcommand{\propertyvalueset}[2]{\set{#1}_{#2}}
\newcommand{\propertyvaluesettuple}[2]{\tuple{#1}{#2}}
\newcommand{\propertycollection}[1]{\mathrm{P}_{#1}}
\newcommand{\propdisplay}[1]{\texttt{#1}}