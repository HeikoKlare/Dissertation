% Tikz
\RequirePackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes}
\usetikzlibrary{fit}
\usetikzlibrary{angles}
\usepackage{varwidth}
\usetikzlibrary{calc}
\usepackage{marvosym} % For \Lightning

% pgfplots
\RequirePackage{pgfplots,pgfplotstable}
\pgfplotsset{compat=1.8}

% Use to ensure same height of elements
\newcommand{\sameheight}{\vphantom{ÃŠy}}

\tikzset{
    every node/.append style={font=\small},
    consistency related element/.style={color=consistencycolor1},
    consistency related element 2/.style={color=consistencycolor2},
    consistency relation/.style={latex-latex, consistency related element, font=\footnotesize\sffamily},
    consistency relation 2/.style={latex-latex, consistency related element 2, font=\footnotesize\sffamily},
    directed consistency relation/.style={-latex, consistency related element, font=\footnotesize\sffamily},
    directed consistency relation 2/.style={-latex, consistency related element 2, font=\footnotesize\sffamily},
    user changed element/.style={thick, color=executioncolor}, %darkred},
    consistency preservation element/.style={thick, color=consistencypreservationcolor},
    transformation/.style={latex-latex, consistency preservation element, font=\footnotesize\sffamily},
    consistency execution/.style={color=executioncolor},
    consistency changed element/.style={thick, color=executioncolor},
    manifests relation/.style={directed consistency relation},
    mmlabel/.style={},
    mmbg/.style={fill=lightgray!20},
    conceptmmbg/.style={fill=darkgray!30},
    schematic metamodel/.style={draw, circle, fill=lightgray!20},
    schematic conceptmetamodel/.style={schematic metamodel, conceptmmbg},
    legendbg/.style={fill=lightgray!10}
}

\tikzset{
    %% Color Shadings
    blueshading/.style={shade, top color=white, bottom color=kit-blue30, draw=kit-blue100, thick},
    lightblueshading/.style={shade, top color=white, bottom color=kit-blue15, draw=kit-blue100},
    greyshading/.style={shade, top color=white, bottom color=black!30, draw=black!50, thick},
    lightgreyshading/.style={shade, top color=white, bottom color=black!15, draw=black!50, thick},
    blackshading/.style={shade, top color=black!50, bottom color=black!95, middle color=black!95, draw=black!95, thick},
    greenshading/.style={shade, top color=white, bottom color=kit-green30, draw=kit-green100, thick},
    lightgreenshading/.style={shade, top color=white, bottom color=kit-green30, draw=kit-green100},
    redshading/.style={shade, top color=white, bottom color=kit-red30, draw=kit-red100, thick},
    yellowshading/.style={shade, top color=white, bottom color=kit-yellow30, draw=kit-orange100, thick},
    componentYellowshading/.style={shade, top color=kit-orange100, bottom color=kit-yellow100, draw=kit-orange100, thick},
}

\usepackage{templates/tikzuml}
\usepackage{templates/tikzpcm}


% Draw forests (feature diagrams etc.)
\usepackage{forest}
% https://tex.stackexchange.com/questions/335708/feature-diagram-in-latex
\newcommand{\featurexor}[3]{
    \featurexororbase[draw=black,]{#1}{#2}{#3}
}
\newcommand{\featureor}[3]{
    \featurexororbase[fill=black!60,]{#1}{#2}{#3}
}
\newcommand{\featurexororbase}[4][]{
    \path  (#2)--(#3)--(#4)
        pic [#1 angle radius=1.5ex] {angle = #2--#3--#4};
}